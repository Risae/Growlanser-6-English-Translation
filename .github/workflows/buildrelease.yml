name: Build xDelta Patch
on: workflow_dispatch

jobs:
  CheckScript:
    runs-on: windows-2022
    steps:
      - name: 01. Copy repository
        uses: actions/checkout@v4
        with:
          sparse-checkout: | # Only copy specific folders to the container
            source

      - name: 02. Check script
        shell: pwsh # Powershell 7, which uses UTF-8 as default
        run: |
          echo "`n[i] Create list of Regex patterns that need to be checked"
          $regexPatterns = @(
            # Find dublicates
            '\[NLINE\]\[NLINE\]',
            '\[NWIN\]\[NWIN\]',
            '\[END-FE\]\[END-FE\]',
            '\[END-FF\]\[END-FF\]',
            ',,',
            # '　 ',

            # Find unnecessary default [COL00] color code at the end of a string
            '\[COL00\]\[END-FE\]',
            '\[COL00\]\[END-FF\]',

            # Find controls codes that is missing the ]
            '\[NLINE[^]]*$',
            '\[NWIN[^]]*$',
            '\[END-FE[^]]*$',
            '\[END-FF[^]]*$',
            '\[COL00[^]]*$',
            '\[COL01[^]]*$',
            '\[COL02[^]]*$',
            '\[COL03[^]]*$',
            '\[COL04[^]]*$',
            '\[COL05[^]]*$',
            '\[COL06[^]]*$',
            '\[COL07[^]]*$',
            '\[COL08[^]]*$',
            '\[COL09[^]]*$',
            '\[COL0A[^]]*$',
            '\[COL0B[^]]*$',
            '\[COL0C[^]]*$',
            '\[COL0D[^]]*$',
            '\[COL0E[^]]*$',
            '\[COL0F[^]]*$',

            # Find controls codes that is missing the [
            '[^[](NLINE])',
            '[^[](NWIN])',
            '[^[](END-FE])',
            '[^[](END-FF])',
            '[^[](COL00])',
            '[^[](COL01])',
            '[^[](COL02])',
            '[^[](COL03])',
            '[^[](COL04])',
            '[^[](COL05])',
            '[^[](COL06])',
            '[^[](COL07])',
            '[^[](COL08])',
            '[^[](COL09])',
            '[^[](COL0A])',
            '[^[](COL0B])',
            '[^[](COL0C])',
            '[^[](COL0D])',
            '[^[](COL0E])',
            '[^[](COL0F])',

            # Finds lines that are missing a ] at the end after alphabeth character
            '[a-zA-Z0-9\!\?\.\,\(\)][^\]]*$',

            # Finds [ missing in [CC.XXXX]
            '[a-zA-Z0-9\!\?\.\,\(\)](CC\.)'

            # Find string that is missing ., ,, !, ? before [NWIN] - Not working
            # '[a-zA-Z0-9\!\?\.\,\(\)](\[NWIN\])',

            # Find full width space before and after alphabet characters
            # '[a-zA-Z0-9\!\?\.\,\(\)]　',
            # '　[a-zA-Z0-9\!\?\.\,\(\)]'

            # Find japanese `？`, `！`, `。`, `、`, `… ` before and after alphabet characters
            # '[？！。、…][a-zA-Z0-9\!\?\.\,\(\)]',
            # '[a-zA-Z0-9\!\?\.\,\(\)][？！。、…]',

            # Finds `（`, `）`, `【`, `】`, `『`, `』`, `《`,` 》` that has alphabet characters after and before it
            # '[（）【】『』《》][a-zA-Z0-9\!\?\.\,\(\)]',
            # '[a-zA-Z0-9\!\?\.\,\(\)][（）【】『』《》]'
          )

          echo "`n[i] Initialize an empty list"
          $outputList = @()

          echo "`n[i] Create blackList"
          $blackList = @(
            '00000001.SCEN.asm',
            '00000002.SCEN Dummy file',
            '00000003.SCEN Dummy file',
            '00000033.SCEN Dummy file',
            '00000035.SCEN Dummy file',
            '00000039.SCEN Dummy file',
            '00000043.SCEN.asm',
            '00000061.SCEN Dummy file',
            '00000062.SCEN Dummy file',
            '00000064.SCEN Dummy file',
            '00000066.SCEN Dummy file',
            '00000067.SCEN Dummy file',
            '00000068.SCEN Dummy file',
            '00000071.SCEN Dummy file',
            '00000101.SCEC Dummy file',
            '00000105.SCEC Dummy file',
            '00000109.SCEC Voice check Debug overview',
            '00000110.SCEC Voice check Debug',
            '00000111.SCEC Voice check Debug',
            '00000112.SCEC Voice check Debug',
            '00000113.SCEC Voice check Debug',
            '00000114.SCEC Voice check Debug',
            '00000115.SCEC Voice check Debug',
            '00000116.SCEC Voice check Debug',
            '00000117.SCEC Voice check Debug',
            '00000118.SCEC Dummy file',
            '00000119.SCEC Dummy file',
            '00000120.SCEC Dummy file',
            '00000121.SCEC Dummy file',
            '00000122.SCEC Dummy file',
            '00000123.SCEC Dummy file',
            '00000124.SCEC Dummy file',
            '00000125.SCEC Dummy file',
            '00000167.STXT Dummy file'
          )

          echo "`n[i] Iterate over each file, remove files from the blackList"
          Get-ChildItem -Path "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT" |
            Where-Object { $_.Name -notin $blackList } | 
              ForEach-Object {

                  echo "Checking $_"
                  # What a clusterfuck of code this Powershell command Is
                  # not entirely sure why i'm using Powershell in the first place
                  $fileContent = Get-Content -LiteralPath $_.FullName

                  # Filter out lines starting with //
                  $fileContent = $fileContent | Where-Object { $_ -notlike '//*' -and $_ -notlike '#*' }

                  # Iterate over each line in the file
                  foreach ($lineText in $fileContent) {

                      # Check each regex
                      foreach ($regex in $regexPatterns) {

                          # If a regex matches, print out information about it
                          if ($lineText -match $regex) {
                              echo "[!] $_ - '$regex' - '$lineText'"
                              $outputList += "[!] $_ - '$regex' - '$lineText'"
                          }
                      }
                  }
              }

          echo "`n[i] Checking if the outputList has any entries..."
          if ($outputList.Count -gt 0) {
            echo "[!] Found errors. Exiting with code 1."
            $outputList
            exit 1
          }
          else {
            echo "`e[32m[i] No errors found!"
          }

  BuildPatch:
    runs-on: windows-2022
    needs: CheckScript
    steps:
      - name: 01. Copy repository
        uses: actions/checkout@v4
        with:
          sparse-checkout: | # Only copy specific folders to the container
            build
            source
            tools

      - name: 02. Prepare files
        shell: pwsh
        run: |
          echo "`n[i] Installing megatools"
          choco install megatools --yes

          echo "`n[i] Download and extract files"
          megatools get -u "${{ secrets.TEST }}" -p "${{ secrets.TEST2 }}" --path "$Env:GITHUB_WORKSPACE\build\05-original_files\0.zip" --no-progress /Root/0.zip
          Expand-Archive -Verbose "$Env:GITHUB_WORKSPACE\build\05-original_files\0.zip" -DestinationPath "$Env:GITHUB_WORKSPACE\build\05-original_files"
          python "$Env:GITHUB_WORKSPACE\build\03-isotool\isotool.py" --mode extract --iso "$Env:GITHUB_WORKSPACE\build\05-original_files\Growlanser 6 Precarious World.iso" --filelist "$Env:GITHUB_WORKSPACE\build\05-original_files\filelist.txt" --files "$Env:GITHUB_WORKSPACE\build\05-original_files"

          echo "`n[i] Move specific files"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\DUMMY.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\DUMMY.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_BTL.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_BTL.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_CHAR.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_CHAR.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_MAP.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_MAP.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_MOV.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_MOV.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SND.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_SND.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_VOI.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_VOI.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\IOPRP300.IMG" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\IOPRP300.IMG"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\SYSTEM.CNF" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\SYSTEM.CNF"

      - name: 03. Setup the build environment
        shell: pwsh
        run: |
          echo "`n[i] Create the 05-Build directory"
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build"

          echo "`n[i] Create the 06-Original files folders for the .DAT files"
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT"  
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT"
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SCEN DAT"

          echo "`n[i] Start quickBMS to dump the .DAT files contents to the original files folder"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE.DAT" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE.DAT" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SCEN.DAT" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SCEN DAT"

          echo "`n[i] Unpack the *.FACE files"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -d -F "*.FACE" "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT" "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT"

      - name: 04. Patch ELF
        shell: pwsh
        run: |
          echo "`n[i] Copy the repository files + ELF to the armips folder"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\SLPM_667.16\SLPM_667.16_translation.asm" -Destination "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16_translation.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\SLPM_667.16\SLPM_667.16_VWF.asm" -Destination "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16_VWF.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\SLPM_667.16" -Destination "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 abcde scripts\abcde.tbl" -Destination "$Env:GITHUB_WORKSPACE\build\01-armips\abcde.tbl"

          echo "`n[i] Patch ELF using armips"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\01-armips" "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16_translation.asm"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\01-armips" "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16_VWF.asm"

          echo "`n[i] Move patched ELF"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\01-armips\SLPM_667.16" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\SLPM_667.16"

      - name: 05. Patch GL6_FACE.DAT
        shell: pwsh
        run: |
          echo "`n[i] Copy GL6_FACE.DAT from the original files folder to the build folder"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE.DAT"

          echo "`n[i] Create the FACE DAT folder and copy all files to it"
          Copy-Item -Recurse -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT*" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\"

          echo "`n[i] Execute the xdelta patches and save the resulting file in the created folder"
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000144 FACE"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT\00000144.FACE_extract\00000000.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FACE.DAT\00000144.FACE (TIM2 title cards for Warslee, Rio Rey, PMB HQ)\00000000.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000144 FACE\00000000.tm2"

          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000149 FACE"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FACE DAT\00000149.FACE_extract\00000000.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FACE.DAT\00000149.FACE (TIM2 title cards for Makinus, Dastis, Dragonpit Tower)\00000000.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000149 FACE\00000000.tm2"

          echo "`n[i] Start quickBMS XXX.FACE reimport 1 script"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -r "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000144.FACE" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000144 FACE"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -r "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000149.FACE" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT\00000149 FACE"

          echo "`n[i] Start quickBMS GL6_FACE.DAT reimport 2 script"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -r -r "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE.DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE DAT"

          echo "`n[i] Move patched GL6_FACE.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FACE.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_FACE.DAT"

      - name: 06. Patch GL6_FILE.DAT
        shell: pwsh
        run: |
          echo "`n[i] Copy GL6_FILE.DAT from the original files folder to the build folder"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE.DAT"

          echo "`n[i] Create a new 05-build\GL6_FILE DAT folder"
          New-Item -ItemType Directory -Force -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT"

          echo "`n[i] Patching 00000046.fnt"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000046.fnt" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000046.fnt Latin Alphabet and Katakana\00000046.fnt.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000046.fnt"

          echo "`n[i] Patching 00000602.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000602.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000602.tm2 GL6 Icons\00000602.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000602.tm2"

          echo "`n[i] Patching 00000604.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000604.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000604.tm2 Character Menu\00000604.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000604.tm2"

          echo "`n[i] Patching 00000606.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000606.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000606.tm2 Mission complete screen\00000606.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000606.tm2"

          echo "`n[i] Patching 00000608.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000608.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000608.tm2 Prologue stats screen\00000608.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000608.tm2"

          echo "`n[i] Patching 00000611.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000611.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000611.tm2 Yurii Main Menu\00000611.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000611.tm2"

          echo "`n[i] Patching 00000612.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000612.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000612.tm2 Friend rating screen\00000612.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000612.tm2"

          echo "`n[i] Patching 00000647.tm2"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -v -d -s "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000647.tm2" "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000647.tm2 Gem creating screen\00000647.tm2.vcdiff" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000647.tm2"

          echo "`n[i] Patching 00000566.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000566.mss Spell casting screen text box coord\00000566.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000566.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000566.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000566.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000566.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000566.asm"

          echo "`n[i] Patching 00000569.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000569.mss Yurii Main Menu text box coord\00000569.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000569.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000569.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000569.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000569.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000569.asm"

          echo "`n[i] Patching 00000570.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000570.mss NPC Config Window\00000570.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000570.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000570.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000570.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000570.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000570.asm"

          echo "`n[i] Patching 00000573.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000573.mss Buying and Selling text box coord\00000573.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000573.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000573.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000573.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000573.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000573.asm"

          echo "`n[i] Patching 00000594.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000594.mss Equipment change screen\00000594.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000594.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000594.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000594.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000594.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000594.asm"

          echo "`n[i] Patching 00000596.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000596.mss Winning screen P to KP modification\00000596.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000596.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000596.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000596.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000596.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000596.asm"

          echo "`n[i] Patching 00000598.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000598.mss Teleport screen text box coord\00000598.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000598.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000598.mss" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000598.mss"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000598.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000598.asm"

          echo "`n[i] Patching 00000803.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000803.dat Additional Plate info text\00000803.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000803.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000803.dat" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000803.dat"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000803.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000803.asm"

          echo "`n[i] Patching 00000806.mss"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_FILE.DAT\00000806.dat Yurii Attributes\00000806.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000806.asm"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_FILE DAT\00000806.dat" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000806.dat"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" -root "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000806.asm"
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT\00000806.asm"

          echo "`n[i] Start quickBMS GL6_FILE.DAT reimport 2 script"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -r -r "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE.DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE DAT"

          echo "`n[i] Move patched GL6_FILE.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_FILE.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_FILE.DAT"

      - name: 07. Patch SCEN.DAT
        shell: pwsh
        run: |
          echo "`n[i] Copy SCEN.DAT from the original files folder to the build folder"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SCEN.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\"

          echo "`n[i] Create amd copy all files from the original dumped SCEN folder to the build SCEN DAT folder"
          Copy-Item -Recurse -Verbose -Path  "$Env:GITHUB_WORKSPACE\build\05-original_files\GL6_SCEN DAT*" "$Env:GITHUB_WORKSPACE\build\05-build\"

          echo "`n[i] Change directory to GL6_SCEN DAT"
          cd "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\"

          echo "`n[i] Copy 00000001.SCEN.asm and patch 00000001.SCEN"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000001.SCEN.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000001.SCEN.asm"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" 00000001.SCEN.asm
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000001.SCEN.asm"

          echo "`n[i] Copy 00000043.SCEN.asm and patch 00000043.SCEN"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000043.SCEN.asm" -Destination "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000043.SCEN.asm"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\01-armips\armips.exe" 00000043.SCEN.asm
          Remove-Item -Force -Verbose "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000043.SCEN.asm"

          echo "`n[i] Switch to the abcde folder"
          cd "$Env:GITHUB_WORKSPACE\build\00-abcde\"

          echo "`n[i] Copy the table file"
          Copy-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 abcde scripts\abcde.tbl" -Destination "$Env:GITHUB_WORKSPACE\build\00-abcde\abcde.tbl"

          echo "`n[i] Patch the Scripts"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000000.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000000.SCEN Debug map menu [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000001.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000001.SCEN Debug save room [ONGOING]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000002.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000002.SCEN Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000003.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000003.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000004.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000004.SCEN Debug map (9999) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000005.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000005.SCEN Prologue Tutorial [EDITED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000006.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000006.SCEN CHAPTER 2.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000007.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000007.SCEN CHAPTER 3.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000008.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000008.SCEN CHAPTER 8.1 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000009.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000009.SCEN CHAPTER 8.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000010.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000010.SCEN CHAPTER 12.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000011.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000011.SCEN CHAPTER 14.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000012.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000012.SCEN CHAPTER 15.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000013.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000013.SCEN Debug [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000014.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000014.SCEN CHAPTER 7.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000015.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000015.SCEN CHAPTER 16.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000016.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000016.SCEN CHAPTER 2.5 (below Dastis City) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000017.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000017.SCEN CHAPTER 7.4 (Pothrad Cave) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000018.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000018.SCEN CHAPTER 7.5 (Transgate center) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000019.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000019.SCEN CHAPTER 8.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000020.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000020.SCEN CHAPTER 11.1 (Resistance hideout) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000021.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000021.SCEN CHAPTER 13.2 (Yarstill Prison) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000022.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000022.SCEN CHAPTER 12.1 (Giant) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000023.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000023.SCEN CHAPTER 15.3 (El Hingis HQ) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000024.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000024.SCEN CHAPTER 18.1 (Dragon Tower) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000025.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000025.SCEN CHAPTER 19.1 (Celestial ship) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000026.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000026.SCEN CHAPTER 9.2 (Underground ancient ship) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000027.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000027.SCEN CHAPTER 9.4 (Past Kaiser Island) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000028.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000028.SCEN CHAPTER 4.1 (Ship to Goatland) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000029.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000029.SCEN CHAPTER 19.2 (Past Celestial Ship) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000030.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000030.SCEN CHAPTER 14.3 (Makinus City 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000031.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000031.SCEN CHAPTER 2.1 (Makinus City) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000032.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000032.SCEN CHAPTER 2.4 (Dastis City) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000033.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000033.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000034.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000034.SCEN CHAPTER 3.1 (Schizarz) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000035.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000035.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000036.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000036.SCEN CHAPTER 8.2 (Leystan) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000037.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000037.SCEN CHAPTER 13.1 (Leystan 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000038.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000038.SCEN CHAPTER 14.3 (Royferon) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000039.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000039.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000040.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000040.SCEN CHAPTER 15.1 (El Hingis) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000041.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000041.SCEN CHAPTER 16.3 (Great Land Village) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000042.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000042.SCEN CHAPTER 6.5 (Pothrad village) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000043.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000043.SCEN CHAPTER 1 (Lennox Facility 1) [EDITED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000044.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000044.SCEN CHAPTER 12.3 (Lennox Facility 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000045.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000045.SCEN CHAPTER 14.4 (Fomeros HQ) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000046.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000046.SCEN CHAPTER 2.2 (Monopolis HQ) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000047.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000047.SCEN CHAPTER 14.1 (Monopolis HQ 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000048.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000048.SCEN CHAPTER 6.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000049.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000049.SCEN CHAPTER 5.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000050.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000050.SCEN CHAPTER 5.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000051.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000051.SCEN CHAPTER 4.7 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000052.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000052.SCEN CHAPTER 4.6 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000053.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000053.SCEN CHAPTER 4.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000054.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000054.SCEN CHAPTER 10.6 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000055.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000055.SCEN CHAPTER 10.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000056.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000056.SCEN CHAPTER 7.1 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000057.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000057.SCEN CHAPTER 4.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000058.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000058.SCEN CHAPTER 10.5 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000059.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000059.SCEN (Fairy's Forest) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000060.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000060.SCEN CHAPTER 17.1 [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000061.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000061.SCEN Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000062.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000062.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000063.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000063.SCEN CHAPTER 17.2 (Juwaina Cave) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000064.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000064.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000065.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000065.SCEN CHAPTER X.X (Goatland Cave) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000066.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000066.SCEN Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000067.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000067.SCEN Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000068.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000068.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000069.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000069.SCEN CHAPTER 7.2 (Kaiser Island) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000070.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000070.SCEN (Something related to teleporting) [ONGOING]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000071.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000071.SCEN Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000072.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000072.SCEN (No idea) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000073.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000073.SCEN CHAPTER 10.1 (PMB HQ) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000074.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000074.SCEN CHAPTER 4.2 (Warslee village) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000075.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000075.SCEN CHAPTER 6.4 (Felmentia) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000076.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000076.SCEN CHAPTER X.X (Zerdok) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000077.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000077.SCEN CHAPTER X.X (Rio Rey) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000078.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000078.SCEN CHAPTER 4.5 (Zaramba) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000079.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000079.SCEN CHAPTER 6.1 (Totuwa) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000080.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000080.SCEN CHAPTER 4.8 (Geilenach) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000081.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000081.SCEN CHAPTER X.X (Juwaina) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000082.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000082.SCEN CHAPTER 5.1 (Jaergen) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000083.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000083.SCEN CHAPTER 10.2 (PMB HQ 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000084.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000084.SCEN CHAPTER 9.1 (Guardian's Village) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000085.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000085.SCEN (PMB Colosseum 2) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000086.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000086.SCEN CHAPTER X.X (Well extra dungeon) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000087.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000087.SCEN CHAPTER 11.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000088.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000088.SCEN Debug map (Class callout check) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000089.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000089.SCEN Debug map (0005) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000090.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000090.SCEN CHAPTER 9.3 (Past Warslee village) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000091.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000091.SCEN CHAPTER 9.5 (Warslee after reconstruction) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000092.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000092.SCEN (something related to Futon Dog) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000093.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000093.SCEN CHAPTER 16.1 (Lennox 3) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000094.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000094.SCEN (something related to Futon Dog) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000095.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000095.SCEN (maybe from GL5) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000096.SCEN" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000096.SCEN CHAPTER 20.1 (Ending) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000097.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000097.SCEC (Yurii Friend Rating screen) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000098.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000098.SCEC (Yurii Event Memo) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000099.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000099.SCEC (Yurii Psych evaluation) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000100.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000100.SCEC game map 1"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000101.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000101.SCEC Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000102.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000102.SCEC game map 2"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000103.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000103.SCEC CHAPTER 12.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000104.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000104.SCEC (Steed Express) [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000105.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000105.SCEC Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000106.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000106.SCEC Debug [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000107.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000107.SCEC CHAPTER 4.9 (Fairy development screen) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000108.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000108.SCEC (Fairy development screen 2) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000109.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000109.SCEC Voice check Debug overview"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000110.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000110.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000111.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000111.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000112.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000112.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000113.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000113.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000114.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000114.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000115.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000115.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000116.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000116.SCEC Voice check Debug"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000117.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000117.SCEC Voice check Debug"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000118.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000118.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000119.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000119.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000120.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000120.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000121.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000121.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000122.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000122.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000123.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000123.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000124.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000124.SCEC Dummy file"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000125.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000125.SCEC Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000126.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000126.SCEC (some kind of Steed Express quest) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000127.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000127.SCEC CHAPTER 4.X [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000128.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000128.SCEC (PMB Colosseum) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000129.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000129.SCEC CHAPTER 5.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000130.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000130.SCEC CHAPTER 11.4 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000131.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000131.SCEC (no idea) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000132.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000132.SCEC CHAPTER 3.2 (Schizarz 2, Makinus 2) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000133.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000133.SCEC CHAPTER 6.2 (Totuwa 2, Schizarz 3, Leystan 3) [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000134.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000134.SCEC Debug (Motion Check) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000135.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000135.SCEC CHAPTER 14.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000136.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000136.SCEC CHAPTER 11.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000137.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000137.SCEC CHAPTER 10.3 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000138.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000138.SCEC CHAPTER 18.2 [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000139.SCEC" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000139.SCEC (maybe debug) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000140.SDMY" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000140.SDMY (no idea) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000141.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000141.STXT NPC Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000142.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000142.STXT Item Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000143.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000143.STXT Monster and Other Character Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000144.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000144.STXT Ability Tree [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000145.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000145.STXT Yurii's Skills [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000146.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000146.STXT Spell Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000147.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000147.STXT Some more Character Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000148.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000148.STXT Plate Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000149.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000149.STXT Ability Names [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000150.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000150.STXT Knacks List [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000151.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000151.STXT Item Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000152.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000152.STXT Using Key Items [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000153.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000153.STXT Spells Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000154.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000154.STXT Knacks Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000155.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000155.STXT Ability Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000156.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000156.STXT Yurii's Skill Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000157.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000157.STXT Menu Help [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000158.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000158.STXT Memory Card Text [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000159.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000159.STXT System Settings Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000160.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000160.STXT AI Settings Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000161.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000161.STXT Music Appendix [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000162.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000162.STXT Voice Credits [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000163.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000163.STXT System Settings [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000164.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000164.STXT Gem names short [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000165.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000165.STXT (no idea) [ONGOING]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000166.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000166.STXT Gem Names 1 [TRANSLATED]"
          # perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000167.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000167.STXT Dummy file"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000168.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000168.STXT Gem Properties [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000169.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000169.STXT Gem Properties Descriptions [TRANSLATED]"
          perl abcde.pl --mode text2bin -cm abcde::Atlas "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT\00000170.STXT" "$Env:GITHUB_WORKSPACE\source\GL6_SCEN.DAT\00000170.STXT Ore Descriptions [TRANSLATED]"

          echo "`n[i] Patch SCEN.DAT"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\02-quickbms\quickbms.exe" -w -r -r "$Env:GITHUB_WORKSPACE\tools\GL5 and 6 quickBMS scripts\growlanser.bms" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN.DAT" "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN DAT"

          echo "`n[i] Move patched SCEN.DAT"
          Move-Item -Verbose -Path "$Env:GITHUB_WORKSPACE\build\05-build\GL6_SCEN.DAT" -Destination "$Env:GITHUB_WORKSPACE\build\06-translates_files\GL6_SCEN.DAT"

      - name: 08. Check filesize
        shell: pwsh
        run: |
          echo "`n[i] Get the translated file sizes"
          Get-Childitem -file "$Env:GITHUB_WORKSPACE\build\06-translates_files" | Select-Object -Property Name, Length

      - name: 09. Create patched version
        shell: pwsh
        run: |
          echo "`n[i] Build"
          python "$Env:GITHUB_WORKSPACE\build\03-isotool\isotool.py" --mode insert --iso "$Env:GITHUB_WORKSPACE\build\05-original_files\Growlanser 6 Precarious World.iso" --filelist "$Env:GITHUB_WORKSPACE\build\05-original_files\filelist.txt" --files "$Env:GITHUB_WORKSPACE\build\06-translates_files" --output "$Env:GITHUB_WORKSPACE\build\Growlanser 6 Precarious World English.iso" --with-padding

      - name: 10. Create xDelta patch
        shell: pwsh
        run: |
          echo "`n[i] Create xDelta Patch"
          cmd.exe /C "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\bin\xdelta-3.1.0-x86_64.exe" -e -9 -S djw -vfs "$Env:GITHUB_WORKSPACE\build\05-original_files\Growlanser 6 Precarious World.iso" "$Env:GITHUB_WORKSPACE\build\Growlanser 6 Precarious World English.iso" "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\vcdiff\Growlanser 6 Precarious World.iso.vcdiff"

          echo "`n[i] remove vcdiff\file"
          rm "$Env:GITHUB_WORKSPACE\build\07-xDeltaPatch\vcdiff\file"

      - name: 11. Publish patch as an Artifact
        uses: actions/upload-artifact@v4
        with:
          name: Growlanser_6_English_xDelta_Patch
          path: ${{ github.workspace }}\build\07-xDeltaPatch